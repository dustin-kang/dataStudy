## ë°ì´í„° ì „ì²˜ë¦¬ ì‘ì—…

> ğŸ™‚ ë°ì´í„°ì˜ ì „ì²˜ë¦¬ ì‘ì—…ì€ ë¹„ì •í˜• ë°ì´í„°ë¥¼ ì •í˜• ë°ì´í„°ë¡œ ë°”ê¾¸ëŠ” ì‘ì—…ì„ ì˜ë¯¸í•˜ëŠ” ë°ìš”. ë³´í†µ **ì¸ì½”ë”©, í† í°í™”, Bag of Words(BoW), ê·¸ë ˆì´ ìŠ¤ì¼€ì¼**ë“±ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë³€í™˜í•©ë‹ˆë‹¤.

### íŒŒì´ì¬ ë‚´ì¥í•¨ìˆ˜ë¡œ ì „ì²˜ë¦¬ í•˜ê¸°
- `.str.replace('','').astype(float)/100` : ë¬¸ìì—´ì„ í¼ì„¼íŠ¸ë¡œ ë°”ê¾¸ëŠ” ë°©ë²•
- `.apply(func)`: í•¨ìˆ˜ë¥¼ ì ìš©ì‹œí‚¤ëŠ” ë°©ë²•
- [`np.where`](https://numpy.org/doc/stable/reference/generated/numpy.where.html#numpy-where) : ì¡°ê±´ì— ë§ëŠ” ì¸ë±ìŠ¤ ì°¾ê¸°

### ë°ì´í„° ë­ê¸€ë§(Wrangling)
- ë¶„ì„ì„ í•˜ê±°ë‚˜ ëª¨ë¸ì„ ë§Œë“¤ê¸° ì „ì— ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ë³€í™˜í•˜ê±°ë‚˜ ë§µí•‘í•˜ëŠ” ê³¼ì •
- [`GroupBy`](https://pandas.pydata.org/pandas-docs/stable/user_guide/groupby.html#group-by-split-apply-combine) ë˜ëŠ” `get_group()`ë“±ì˜ í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ë³€í™˜í•œë‹¤.
- `Pandas Profile` : ë°ì´í„°ì˜ íŠ¹ì„±ê³¼ EDAë¥¼ ì‰½ê²Œ ë³¼ ìˆ˜ ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ ì…ë‹ˆë‹¤.

```py
!pip uninstall pandas_profiling
!pip install https://github.com/pandas-profiling/pandas-profiling/archive/master.zip
```

```py
from pandas_profiling import ProfileReport
ProfileReport(df)

# ë¦¬í¬íŠ¸ ì €ì¥í•˜ê¸°
pr=data.profile_report()
pr.to_file('./pr_report.html')
```

## ì¸ì½”ë”© (Encoding)
- ì‚¬ìš© ëª©ì ì— ë”°ë¼ í•´ì„ì´ ë‹¬ë¼ì§„ë‹¤.
- ì—¬ëŸ¬ ì¸ì½”ë”©ì„ ê°™ì´ ì“°ëŠ” ê²ƒë³´ë‹¤ í•˜ë‚˜ë¥¼ íƒí•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

### ì›-í•« ì¸ì½”ë”© (One-Hot Encoding)
- ë°ì´í„° ê°„ì˜ ë ˆë²¨ì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ëª…ëª©í˜• ë²”ì£¼(Nominal Categorical)ì´ì–´ì•¼ í•œë‹¤.
- ë°ì´í„° ê°’ë“¤ ì‚¬ì´ì— ë…ë¦½ì ì´ì–´ì•¼ í•œë‹¤. _ex) í•œì‹, ì–‘ì‹, ì¼ì‹_

> get_dummiesë¥¼ í™œìš©í•œ ë°©ë²•
```py
pd.get_dummies(df, prefix=['ì—´'], drop_first = True)
```

> category Encoderë¥¼ í™œìš©í•œ ë°©ë²•
```py
# !pip install --upgrade category_encoders

from category_encoders import OneHotEncoder

encoder = OneHotEncoder(use_cat_names = True)

X_train = encoder.fit_transform(X_train)
X_test = encoder.transform(X_test)
```
- `user_cat_names` : ê° ë²”ì£¼ëª…ì„ íŠ¹ì„±ì— ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ëŠ” ì¸ì
- `cols = ''` : ì‚¬ìš©í•  ì»¬ëŸ¼ì„ ì„¤ì •í•  ì¸ì
- Data Leakageë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ `test`ëŠ” fit ì—†ì´ ì§„í–‰í•©ë‹ˆë‹¤.

### ìˆœì„œí˜• ì¸ì½”ë”© (Ordinal Encoding)
- ìˆœì„œê°€ ìˆëŠ” ë²”ì£¼ì— ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ë‹¤.
- `mapping` ì¸ìë¡œ ë²”ì£¼ ìˆœì„œë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤.

```py
# !pip install --upgrade category_encoders

from category_encoders import OrdinalEncoder
enc = OrdinalEncoder(*)
enc.category_mapping #ìì„¸í•œ ì •ë³´ í™•ì¸

```



- [group-by-split-apply-combine](https://pandas.pydata.org/pandas-docs/stable/user_guide/groupby.html#group-by-split-apply-combine)
- [ì–‘ì§ˆì˜ ë°ì´í„°ë¥¼ íŒë³„í•˜ëŠ” ë°©ë²•](https://yozm.wishket.com/magazine/detail/1070/?fbclid=IwAR14zllAm-ivaQhWJB_N9aGcKB7atH5FWJFKyhKcjdlW8qNbA8Eft_V1aRQ)
- [OrdinalEncoder ê³µì‹ ë„íë¨¼íŠ¸](https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.OrdinalEncoder.html#sklearn-preprocessing-ordinalencoder)
- [OneHotEncoder ê³µì‹ ë„íë¨¼íŠ¸](https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.OneHotEncoder.html#sklearn.preprocessing.OneHotEncoder)